<!doctype html>
<html>
    <head>
        <title>Create Game</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                background-color: #f9f9f9;
                margin: 0;
                padding: 20px;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            h1 {
                color: #333;
                margin: 20px 0;
            }

            .top-button {
                align-self: flex-end;
                margin-bottom: 20px;
            }

            .top-button button {
                background-color: #dc3545;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 6px;
                cursor: pointer;
                font-size: 14px;
            }

            .top-button button:hover {
                background-color: #c82333;
            }

            form {
                background-color: #fff;
                padding: 30px;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                max-width: 500px;
                width: 100%;
            }

            label {
                display: block;
                margin-bottom: 8px;
                font-weight: bold;
            }

            input,
            select {
                width: 100%;
                padding: 14px;
                margin-bottom: 24px;
                border-radius: 6px;
                border: 1px solid #ccc;
                font-size: 16px;
            }

            input:focus,
            select:focus {
                outline: none;
                border-color: #007bff;
                box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.2);
            }

            button {
                background-color: #28a745;
                color: white;
                border: none;
                padding: 14px;
                border-radius: 6px;
                cursor: pointer;
                font-size: 16px;
                width: 100%;
            }

            button:hover {
                background-color: #218838;
            }

            #suggestions {
                position: relative;
            }

            #suggestions ul {
                position: absolute;
                background-color: #fff;
                border: 1px solid #ccc;
                max-height: 150px;
                overflow-y: auto;
                width: 100%;
                list-style: none;
                padding: 0;
                margin: 0;
                border-radius: 4px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
                z-index: 1000;
            }

            #suggestions li {
                padding: 10px;
                cursor: pointer;
            }

            #suggestions li:hover {
                background-color: #f0f0f0;
            }
        </style>
    </head>
    <body>
        <button onclick="location.href='/logout'">Logout</button>
        <h1>Create New Game</h1>

        <form action="/creategame" method="POST">
            <label for="opponentType">Opponent:</label>
            <select
                id="opponentType"
                name="opponentType"
                onchange="toggleOpponentInput()"
            >
                <option value="computer">Computer</option>
                <option value="human">Choose a Player</option>
            </select>

            <!-- <label for="opponentInput">Opponent:</label> -->
            <input
                type="text"
                id="opponentInput"
                name="opponentInput"
                placeholder="Start typing a name..."
                autocomplete="off"
            />
            <div id="suggestions" style="position: relative"></div>

            <label for="turnChoice">Who Goes First?</label>
            <select name="firstTurn" id="turnChoice">
                <option value="opponent">Opponent</option>
                <option value="me">Me</option>
            </select>

            <label for="symbolChoice">Choose Your Symbol:</label>
            <select name="symbol" id="symbolChoice">
                <option value="X">X</option>
                <option value="O">O</option>
            </select>

            <button type="submit">Start Game</button>
        </form>

        <script>
            const players = [
                { id: 1, name: "PixelWizard" },
                { id: 2, name: "CodeNinja" },
                { id: 3, name: "ShadowKnight" },
                { id: 4, name: "EchoFalcon" },
                { id: 5, name: "FrostByte" },
                { id: 6, name: "NeonSamurai" },
                { id: 7, name: "BlazeRider" },
                { id: 8, name: "QuantumZebra" },
                { id: 9, name: "CyberWolf" },
                { id: 10, name: "AstroBear" },
                { id: 11, name: "NovaSpark" },
                { id: 12, name: "SilentComet" },
                { id: 13, name: "ByteBandit" },
                { id: 14, name: "SudoStorm" },
                { id: 15, name: "InfernoPanda" },
                { id: 16, name: "OrbitSniper" },
                { id: 17, name: "HyperViper" },
                { id: 18, name: "RocketSloth" },
                { id: 19, name: "GlitchGhost" },
                { id: 20, name: "TurboOtter" },
                { id: 21, name: "PhantomRogue" },
                { id: 22, name: "CaptainCrater" },
                { id: 23, name: "ZeroZen" },
                { id: 24, name: "ArcticPhantom" },
                { id: 25, name: "RoboMantis" },
                { id: 26, name: "VelvetTiger" },
                { id: 27, name: "IronKoala" },
                { id: 28, name: "DigitalRaven" },
                { id: 29, name: "SolarRhino" },
                { id: 30, name: "LuckyByte" },
                { id: 31, name: "LunarCobra" },
                { id: 32, name: "CobaltCrush" },
                { id: 33, name: "MagmaFang" },
                { id: 34, name: "NeonNarwhal" },
                { id: 35, name: "EchoLynx" },
                { id: 36, name: "CrashOwl" },
                { id: 37, name: "SteelTornado" },
                { id: 38, name: "BinaryLlama" },
                { id: 39, name: "FireTalon" },
                { id: 40, name: "VenomByte" },
                { id: 41, name: "SkyWarden" },
                { id: 42, name: "HoloFox" },
                { id: 43, name: "MeteorSloth" },
                { id: 44, name: "OrbitMoose" },
                { id: 45, name: "BladeJaguar" },
                { id: 46, name: "QuantumOx" },
                { id: 47, name: "WarpSeeker" },
                { id: 48, name: "GigaBeetle" },
                { id: 49, name: "StormPenguin" },
                { id: 50, name: "ToxicToad" },
                { id: 51, name: "FeralBinary" },
                { id: 52, name: "ZebraNova" },
                { id: 53, name: "DriftPixel" },
                { id: 54, name: "SaberEcho" },
                { id: 55, name: "CometCraze" },
                { id: 56, name: "DarkMatter" },
                { id: 57, name: "BlitzTusk" },
                { id: 58, name: "MysticSpike" },
                { id: 59, name: "PlasmaOtter" },
                { id: 60, name: "ShadowVolt" },
                { id: 61, name: "TechTornado" },
                { id: 62, name: "VortexStag" },
                { id: 63, name: "NanoDrift" },
                { id: 64, name: "ThunderJackal" },
                { id: 65, name: "LaserPenguin" },
                { id: 66, name: "BytePhoenix" },
                { id: 67, name: "AeroCoyote" },
                { id: 68, name: "IronStingray" },
                { id: 69, name: "TwilightViper" },
                { id: 70, name: "CyberBasilisk" },
                { id: 71, name: "ArcticRaptor" },
                { id: 72, name: "SmashKraken" },
                { id: 73, name: "FrostFeline" },
                { id: 74, name: "TurboMongoose" },
                { id: 75, name: "PulseDragon" },
                { id: 76, name: "IceWarden" },
                { id: 77, name: "ZeroTundra" },
                { id: 78, name: "RocketOrca" },
                { id: 79, name: "DataWolf" },
                { id: 80, name: "NeoTarantula" },
                { id: 81, name: "AstroGolem" },
                { id: 82, name: "PhantomYak" },
                { id: 83, name: "SilentMeteor" },
                { id: 84, name: "CyborgOtter" },
                { id: 85, name: "ScorchWombat" },
                { id: 86, name: "WhirlwindCrab" },
                { id: 87, name: "QuantumMole" },
                { id: 88, name: "ShatterBison" },
                { id: 89, name: "ElectricBadger" },
                { id: 90, name: "NovaTurtle" },
                { id: 91, name: "EchoCheetah" },
                { id: 92, name: "PixelWasp" },
                { id: 93, name: "IronFalcon" },
                { id: 94, name: "OrbitBear" },
                { id: 95, name: "StarlightFox" },
                { id: 96, name: "NebulaCat" },
                { id: 97, name: "ZodiacShark" },
                { id: 98, name: "CrimsonBat" },
                { id: 99, name: "VaporWitch" },
                { id: 100, name: "OmegaDuck" },
            ];

            const input = document.getElementById("opponentInput");
            const suggestionsBox = document.getElementById("suggestions");

            let blurTimeout;

            input.addEventListener("input", () => {
                clearTimeout(blurTimeout); // prevent premature clear
                const value = input.value.toLowerCase();
                suggestionsBox.innerHTML = "";

                if (value.length === 0) return;

                const matches = players
                    .filter((p) => p.name.toLowerCase().includes(value))
                    .slice(0, 5);

                if (matches.length === 0) return;

                const ul = document.createElement("ul");
                matches.forEach((player) => {
                    const li = document.createElement("li");
                    li.textContent = player.name;
                    li.addEventListener("mousedown", () => {
                        input.value = player.name;
                        suggestionsBox.innerHTML = "";
                    });
                    ul.appendChild(li);
                });
                suggestionsBox.appendChild(ul);
            });

            input.addEventListener("blur", () => {
                // Small delay so click can register before clearing
                blurTimeout = setTimeout(() => {
                    suggestionsBox.innerHTML = "";
                }, 150);
            });

            //test

            function toggleOpponentInput() {
                const type = document.getElementById("opponentType").value;
                document.getElementById("opponentInput").style.display =
                    type === "computer" ? "none" : "block";
            }

            toggleOpponentInput();
        </script>
    </body>
</html>
